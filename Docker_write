1. Docker

 1) 정의 : 어플리케이션을 패키징 할 수 있는 Tool

  - 컨테이너 안에 어플리케이션과 시스템 툴, 환경설정, 

    모든 dependency에 묶어서 어떤 운영체제에든 쉽게 배포 및 구동 가능하게 하는 도구.

​

 2) 배경

  - 어플리케이션 구동하는 데, 소스파일만을 배포 및 구동할 수 없음. 

  - 외부 라이브러리, 환경변수 설정 등 실행하고자 하는 pc와 서버에 모두 설정값을 매기는 건 

    오류 발생과 번거로움이 존재. 버전 차이에 따라 문제 발생하기도 함.

  - 어플리케이션 구동하기 위한 일련의 모든 걸 도커 컨테이너 안에 담아두어, 어떤 PC든 어디서든 가능함.    - 버전과 서버 문제 차이를 줄일 수 있음.


 

​

* 도커(Container)와 VM(가상머신) 차이

* Docker : 컨테이너 만들고 배포, 구동시키는 역할

​

VM(Virtual Muchin)

Container

개념

한 운영체제 위에서 동일 어플리케이션을 

각각 독립된 공간, 다른 환경에서 구동되기 위해선

VM 통해서 구동해야 했음.

VM은 각각 운영체제 포함함 

=> mac 위에서 window linux 구동 가능해짐

(하드웨어-소프트웨어-각각 가상 머신 생성)

VM에서 경량화됨

하드웨어에 설치된 운영체제 Host OS에서 

컨테이너 엔진(=docker) 소프트웨어 설치 시, 

개별 컨테이너 만들어서, 각각 어플리케이션을 

고립된 환경에서 구동가능토록 해줌.

​

Container Engine이 HostOS에 접근해서 

필요한 사항을 처리함.

특징

각각의 가상머신에서 

모든 운영체제를 포함하기에 무거워짐

부팅하는데 비교적 오랜 시간 소요

컴퓨터, 운영체제, 하드웨어의 자원 많이 소모

VM과 달리 운영체제 포함되지 않고, 

Host OS를 공유해 구동됨.

=> 운영체제가 없어 컨테이너가 가벼워짐


​

* 컨테이너 만드는 방법

1. dockerfile 제작

2. image 만들어서 컨테이너 구동

  +) 도커파일 

     -> 컨테이너 어떻게 만드는 지 레시피와 같음.

     -> 아래와 같은 기능을 담음 

       app 구동 위해 꼭 필요한 파일 무엇인가?

       어떤 프레임워크? 라이브러리? 외부 디펜던시 명시

       환경 변수 설정, 어떻게 구동해야할지 스크립트 포함 가능

​

       => 도커 파일 기반 이미지 만들기 가능

             이미지 만들기 위해 어플리케이션 실행에 필요한 

             코드, 런타임 환경, 시스템 툴(라이브러리), 모든 세팅 포함되어 있음.

​

컨테이너 안에서 어플리케이션이 동작한다.

==어플리케이션 이미지를 활용해 구동한다.

이미지==클래스라고 볼 수 있음. 이미지 이용해 어플리케이션 동작하는 각각 컨테이너 만들기 가능.

이미지는 어플리케이션 캡쳐할 상태 그대로이기에 이미지 고정불변함.

동작 어플리케이션은 파일 생성, 수정 가능.

각 컨테이너에서 수정된 파일이 있어도 이미지 영향 미치지 않음.

이미지 == 클래스

컨테이너 == 멤버변수라 칭할 수 있음.

​

​

​

*컨테이너 배포 방법


깃과 깃허브와 유사.

내 로컬머신에서 이미지 만들어, 깃허브와 같은 Container Registry에 내가 만든 이미지 push한 후,

필요한 서버나 다른 개발자 pc에서 내가 만든 이미지 가져와서 그걸 그대로 실행하면 됨.

이때 실행할 곳에서는 docker설치 필요

​

​

​

이미지 업로드 레지스트리는 public private존재


​

​

로컬머신과 서버에 도커 설치

1. 도커 파일 작성한 후,

2. 어플리케이션 이미지 제작

3. 이미지를 컨테이너 레지스트리에 올려서

4. 서버에서 다운로드 받아 실행


​
